<html>

<head>
<title>Equibit User Guide</title>
</head>

<body>

<h1>Equibit User Guide</h1>

<p>This document describes how to use a Equibit Node.</p>
<p>An Equibit Node consists of a full Bitcoin Core implementation and a Equibit Core implementation.</p>

<h2>Getting Help</h2>
<p>The Equibit programs can be used to get a list of the options / RPC commands.</p>

<h3>Equibit Node Command Line Options Help</h3>

<p>To get a list of all command line options supported by the node, run the command:</p>

<xmp>
./bitcoind -help
</xmp>

<p>To also get a list of the debugging command line options supported by the node, run the command:</p>

<xmp>
./bitcoind -help -help-debug
</xmp>

<p>If the node is running, the RPC (Remote Procedure Call) client program (bitcoin-cli) can be used to communicate with it provided it is configured appropriately.</p>

<h3>Configuring the Node to support RPC processing</h3>

<p>In order for an Equibit node to handle RPC requests, the following steps must be done.</p>

<ol>
<li>Start the node with the -server option</li>
<li>Define the rpcpassword in the bitcoin.conf files for Bitcoin Core RPC processing</li>
<li>Define the eb_rpcpassword in the equibit.conf files for Equibit Core RPC processing</li>
</ol>

<p>The bitcoin.conf file is located in the Bitcoin Core data directory. The default value is <xmp>~/.bitcoin</xmp> It can be set with the -datadir option.</p>

<p>The equibit.conf file is located in the Equibit Core data directory. The default value is <xmp>~/.equibit</xmp> It can be set with the -eb_datadir option.</p>

<p>The syntax of the rpcpassword definition (to be placed in the bitcoin.conf file) is:</p>
<xmp>
rpcpassword=<em>any-sequence-of-characters</em>
</xmp>

<p>The syntax of the rpcpassword definition (to be placed in the equibit.conf files) is:</p>
<xmp>
eb_rpcpassword=<em>any-sequence-of-characters</em>
</xmp>

<h3>Equibit Node RPC Help</h3>

<p>Assuming the Node is running, the RPC client program can request a list of supported using the help RPC for Bitcoin RPCs and eb_help RPC for Equibit RPCs.</p>
<p>The Equibit RPC listening port is different from the Bitcoin RPC listening port. Since the RPC client will default to using the Bitcoin RPC listening port, the Equibit RPC requests also require the -rpcport option to be specified with the Equibit RPC port, which defaults to 18331.</p>

<p>Therefore, the following commands will list the Bitcoin Core RPCs and the Equibit RPCs respectively:</p>

<xmp>
./bitcoin-cli help
</xmp>

<xmp>
./bitcoin-cli -rpcport=18331 eb_help
</xmp>

<p>Getting detailed help on individual RPCs can be done by specifying help (resp. eb_help) followed by the name of the command. For example:
</p>

<xmp>
./bitcoin-cli help getinfo
</xmp>

<xmp>
./bitcoin-cli -rpcport=18331 eb_help eb_getinfo
</xmp>

<h2>Networks</h2>

<p>The Bitcoin Core and the Equibit Core can connect to three different networks.</p>

<ul>
<li>The default network that the Bitcoin Core will connect to is the Bitcoin network.</li>
<li>The default network that the Equibit Core will connect to is the Equibit network.</li>
<li>If the -testnet option is specified, then the Bitcoin Core will connect to the Bitcoin test network</li>
<li>If the -eb_testnet option is specified, then the Equibit Core will connect to the Equibit test network</li>
<li>If the -regtest option is specified, then the Bitcoin Core will connect to the Bitcoin regression test network</li>
<li>If the -eb_testnet option is specified, then the Equibit Core will connect to the Equibit regression test network</li>
</ul>

<p>If the -regtest (resp. -eb_regtest) option is specified, then the Bitcoin Core (resp. Equibit Core) is run in
regression test mode. When run in this mode, a special chain in which blocks can be solved instantly is used. This is intended for regression testing tools and app development.</p>

<p>The network used determines where all files generated by a Core are placed. The path of files generated will have
the following prefix:</p>

<table cellspacing=0 border=1>
<tr><th>Network</th><th>Path Prefix</th></tr>

<tr><td>Bitcoin Core Network</td><td><em>Bitcoin-data-directory</em></td></tr>
<tr><td>Bitcoin Core Test Network</td><td><em>Bitcoin-data-directory</em>/testnet3</td></tr>
<tr><td>Bitcoin Core Regression Test Network</td><td><em>Bitcoin-data-directory</em>/regtest</td></tr>

<tr><td>Equibit Core Network</td><td><em>Equibit-data-directory</em></td></tr>
<tr><td>Equibit Core Test Network</td><td><em>Equibit-data-directory</em>/testnet3</td></tr>
<tr><td>Equibit Core Regression Test Network</td><td><em>Equibit-data-directory</em>/regtest</td></tr>
</table>

<p>The <em>Bitcoin-data-directory</em> defaults to ~/.bitcoin. It can be set with the -datadir option</p>
<p>The <em>Equibit-data-directory</em> defaults to ~/.equibit. It can be set with the -eb_datadir option</p>

<h2>Logging</h2>

<p>Both Cores can be configured to generate log messages. The location of the log file is determined by the network
used by each Core as follows:</p>

<table cellspacing=0 border=1>
<tr><th>Network</th><th>Path Prefix</th></tr>

<tr><td>Bitcoin Core Network</td><td><em>Bitcoin-data-directory</em>/debug.log</td></tr>
<tr><td>Bitcoin Core Test Network</td><td><em>Bitcoin-data-directory</em>/testnet3/debug.log</td></tr>
<tr><td>Bitcoin Core Regression Test Network</td><td><em>Bitcoin-data-directory</em>/regtest/debug.log</td></tr>

<tr><td>Equibit Core Network</td><td><em>Equibit-data-directory</em>/debug.log</td></tr>
<tr><td>Equibit Core Test Network</td><td><em>Equibit-data-directory</em>/testnet3/debug.log</td></tr>
<tr><td>Equibit Core Regression Test Network</td><td><em>Equibit-data-directory</em>/regtest/debug.log</td></tr>
</table>

<h3>Logging Options</h3>

<p>The following options control logging</p>

<table cellspacing=0 border=1>
<tr><th>Bitcoin Option</th><th>Equibit Option</th><th>Description</th></tr>

<tr>
<td>-dblogsize=<n></td>
<td>-eb_dblogsize=<em>n</em></td>
<td>Flush wallet database activity from memory to disk log every <em>n</em> megabytes (default: 100)</td>

<tr>
<td>-debug=<em>category</em></td>
<td>-eb_debug=<em>category</em></td>
<td>
Output debugging information (default: 0, supplying <em>category</em> is
optional). If <em>category</em> is not supplied or if <em>category</em> = 1,
output all debugging information.<em>category</em> can be: addrman,
alert, bench, coindb, db, lock, rand, rpc, selectcoins, mempool,
mempoolrej, net, proxy, prune, http, libevent, tor, zmq.
</td></tr>

<tr>
<td>-nodebug</td>
<td>-eb_nodebug</td>
<td>Turn off debugging messages, same as -debug=0
</td></tr>

<tr>
<td>-logips</td>
<td>-eb_logips</td>
<td>Include IP addresses in debug output (default: 0)
</td></tr>

<tr>
<td>-logtimestamps</td>
<td>-eb_logtimestamps</td>
<td>Prepend debug output with timestamp (default: 1)
</td></tr>

<tr>
<td>-logtimemicros</td>
<td>-eb_logtimemicros</td>
<td>Add microsecond precision to debug timestamps (default: 0)
</td></tr>

<tr>
<td>-printtoconsole</td>
<td>-eb_printtoconsole</td>
<td>Send trace/debug info to console instead of debug.log file
</td></tr>

<tr>
<td>-printpriority</td>
<td>-eb_printpriority</td>
<td>Log transaction priority and fee per kB when mining blocks (default: 0)
</td></tr>

<tr>
<td>-shrinkdebugfile</td>
<td>-eb_shrinkdebugfile</td>
<td>Shrink debug.log file on client startup (default: 1 when no -debug)
</td></tr>

</table>

<h2>Configuring Node Connectitivity</h2>

<p>The following options can be used to control which Equibit nodes that a given node will connect. 
The options that control which Equibit node connectivity are:</p>

<dl>
<dt>-eb_addnode=<em>ip-list</em></dt>
	<dd>Add a node to connect to and attempt to keep the connection open</dd>
<dt>-eb_connect=<em>ip-list</em></dt>
	<dd>Connect only to the specified node(s)</dd>
<dt>-eb_dns</dt>
	<dd>Allow DNS lookups for -addnode, -seednode and -connect (default: true)</dd>
<dt>-eb_dnsseed</dt>
	<dd>Query for peer addresses via DNS lookup, if low on addresses (default: true unless -connect)</dd>
<dt>-eb_forcednsseed</dt>
	<dd>Always query for peer addresses via DNS lookup (default: 0)</dd>
<dt>-eb_onlynet=<em>network-list</em></dt>
	<dd>Only connect to nodes in network <em>net</em> (ipv4, ipv6 or onion)</dd>
<dt>-eb_seednode=<em>ip-list</em></dt>
	<dd>Connect to a node to retrieve peer addresses, and disconnect</dd>
</dl>

<p>If peer node addresses are specified via the -eb_connect option, then by default, DNS seed processing is not done.</p>

<p>Peer nodes specified by -eb_addnode processing are added to the nodes 
discovered by all other means.</p>

<p>Peer nodes specified by the -eb_seednode option are contacted exclusively
to discover other peers. Once the peer node information has been transmitted
to the node, the connection is ended.</p>

<p>onlynet should be set to one or more of ipv4, ipv6 and onion. Connections will be limited to the specified network(s).</p> 

</body>

</html>
